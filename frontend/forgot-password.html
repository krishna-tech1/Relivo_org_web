<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Recover Password | Refugee Support Platform</title>
    <link rel="icon" href="assets/logo.png" type="image/png">
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <main class="page center">
        <header class="hero">
            <div class="brand">
                <img src="assets/logo.png" alt="Relivo Logo" class="brand-logo">
                <span class="brand-text">Refugee Support Platform</span>
            </div>
            <p>Enter your registration email to reset your portal password.</p>
        </header>

        <section class="card auth-card max-w-md">
            <form class="form" id="forgotRequestForm">
                <div class="input-group">
                    <label for="forgot-email">Official Email</label>
                    <input type="email" id="forgot-email" name="email" placeholder="official@org.org" required
                        autocomplete="email" />
                </div>
                <button class="btn primary" type="submit">
                    <i data-lucide="send" aria-hidden="true"></i>
                    Send Recovery Code
                </button>
            </form>

            <div id="resetSection" class="mt-10"
                style="display: none; border-top: 1px solid var(--gray-200); padding-top: var(--space-8); animation: fadeInUp 0.5s ease;">
                <h3 class="mb-6 text-xl text-primary-900">Set New Password</h3>
                <form class="form" id="forgotResetForm">
                    <input type="hidden" name="email" id="resetEmail" />
                    <div class="input-group">
                        <label for="otp-code">OTP Code</label>
                        <input type="text" id="otp-code" name="otp" required maxlength="6"
                            class="text-center font-bold text-xl tracking-wider" />
                    </div>
                    <div class="input-group">
                        <label for="new-password">New Secure Password</label>
                        <div class="password-wrapper">
                            <input type="password" id="new-password" name="new_password" required minlength="8"
                                placeholder="••••••••" autocomplete="new-password" />
                            <button type="button" class="password-toggle" onclick="togglePassword('new-password')">
                                <i data-lucide="eye"></i>
                            </button>
                        </div>
                        <span class="input-helper">Minimum 8 characters</span>
                    </div>
                    <button class="btn primary" type="submit">
                        <i data-lucide="lock" aria-hidden="true"></i>
                        Update Password
                    </button>
                </form>
            </div>

            <p class="mt-6 text-center text-sm">
                <a href="login.html" class="muted font-semibold"
                    style="text-decoration: none; color: var(--gray-600);">Back to Login</a>
            </p>
        </section>
    </main>

    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>